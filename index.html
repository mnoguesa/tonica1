<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practica l'Accentuació</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Tipografia Inter per defecte */
        body {
            font-family: "Inter", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <div class="bg-white rounded-xl shadow-2xl p-8 md:p-12 w-full max-w-lg">
        
        <h1 class="text-3xl font-bold text-blue-700 mb-8 text-center">
            Practica l'Accentuació
        </h1>

        <!-- Contenidor de la paraula -->
        <div
            id="paraula-display"
            class="bg-blue-100 text-blue-800 text-5xl font-bold p-6 rounded-lg mb-8 text-center tracking-wider">
            <!-- La paraula apareixerà aquí -->
        </div>

        <!-- Botons d'opcions -->
        <div class="grid grid-cols-3 gap-4 mb-6">
            <button id="aguda-btn"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                Aguda
            </button>
            <button id="plana-btn"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                Plana
            </button>
            <button id="esdrúixola-btn"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                Esdrúixola
            </button>
        </div>

        <!-- Contenidor de Feedback -->
        <div id="feedback-container" class="mt-6 p-4 rounded-lg text-lg hidden">
            <h2 id="feedback-resultat" class="font-bold text-xl mb-2"></h2>
            <p id="feedback-explicacio"></p>
        </div>

        <!-- Botó de Següent -->
        <button id="next-btn"
                class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 mt-4 hidden">
            Següent paraula
        </button>

        <p class="mt-6 text-xs text-gray-400 text-center">
            Versió 1.0 (síl·laba tònica)
        </p>

    </div>

    <script>
        // Llista de paraules: { paraula: "text", tipus: "aguda/plana/esdrúixola", tonica: "síl·laba tònica" }
        const BANC_DE_PARAULES = [
            // Planes (sense accent)
            { paraula: "casa", tipus: "plana", tonica: "ca" },
            { paraula: "medi", tipus: "plana", tonica: "me" },
            { paraula: "taca", tipus: "plana", tonica: "ta" },
            { paraula: "cotxe", tipus: "plana", tonica: "cot" },
            { paraula: "data", tipus: "plana", tonica: "da" },
            { paraula: "bonica", tipus: "plana", tonica: "ni" },
            { paraula: "sistema", tipus: "plana", tonica: "te" },
            { paraula: "problema", tipus: "plana", tonica: "ble" },
            { paraula: "llarga", tipus: "plana", tonica: "llar" },
            { paraula: "finestra", tipus: "plana", tonica: "nes" },
            { paraula: "pastanaga", tipus: "plana", tonica: "na" },
            { paraula: "tomàquet", tipus: "plana", tonica: "mà" },

            // Agudes (sense accent)
            { paraula: "paper", tipus: "aguda", tonica: "per" },
            { paraula: "color", tipus: "aguda", tonica: "lor" },
            { paraula: "calor", tipus: "aguda", tonica: "lor" },
            { paraula: "valor", tipus: "aguda", tonica: "lor" },
            { paraula: "motor", tipus: "aguda", tonica: "tor" },
            { paraula: "camell", tipus: "aguda", tonica: "mell" },
            { paraula: "cantar", tipus: "aguda", tonica: "tar" },
            { paraula: "penjar", tipus: "aguda", tonica: "jar" },
            { paraula: "treball", tipus: "aguda", tonica: "ball" },

            // Agudes (amb accent)
            { paraula: "camí", tipus: "aguda", tonica: "mí" },
            { paraula: "sofà", tipus: "aguda", tonica: "fà" },
            { paraula: "carbó", tipus: "aguda", tonica: "bó" },
            { paraula: "matí", tipus: "aguda", tonica: "tí" },
            { paraula: "xampú", tipus: "aguda", tonica: "pú" },
            { paraula: "racó", tipus: "aguda", tonica: "có" },
            { paraula: "català", tipus: "aguda", tonica: "là" },
            { paraula: "Japó", tipus: "aguda", tonica: "pó" },

            // Planes (amb accent)
            { paraula: "difícil", tipus: "plana", tonica: "fí" },
            { paraula: "còmic", tipus: "plana", tonica: "cò" },
            { paraula: "tècnic", tipus: "plana", tonica: "tèc" },
            { paraula: "càstig", tipus: "plana", tonica: "càs" },
            { paraula: "fràgil", tipus: "plana", tonica: "frà" },
            { paraula: "dòlar", tipus: "plana", tonica: "dò" },
            { paraula: "tòrax", tipus: "plana", tonica: "tò" },

            // Esdrúixoles
            { paraula: "fàbrica", tipus: "esdrúixola", tonica: "fà" },
            { paraula: "música", tipus: "esdrúixola", tonica: "mú" },
            { paraula: "pàgina", tipus: "esdrúixola", tonica: "pà" },
            { paraula: "plàcida", tipus: "esdrúixola", tonica: "plà" },
            { paraula: "càmera", tipus: "esdrúixola", tonica: "cà" },
            { paraula: "lògica", tipus: "esdrúixola", tonica: "lò" },
            { paraula: "número", tipus: "esdrúixola", tonica: "nú" },
            { paraula: "matemàtica", tipus: "esdrúixola", tonica: "mà" },
            { paraula: "mànega", tipus: "esdrúixola", tonica: "mà" }
        ];

        let paraulesDisponibles = [];
        let paraulaActual = {};

        // Referències al DOM
        const paraulaDisplay = document.getElementById('paraula-display');
        const agudaBtn = document.getElementById('aguda-btn');
        const planaBtn = document.getElementById('plana-btn');
        const esdrúixolaBtn = document.getElementById('esdrúixola-btn');
        const feedbackContainer = document.getElementById('feedback-container');
        const feedbackResultat = document.getElementById('feedback-resultat');
        const feedbackExplicacio = document.getElementById('feedback-explicacio');
        const nextBtn = document.getElementById('next-btn');

        // Barreja Fisher-Yates
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Mostrar una nova paraula
        function mostrarNovaParaula() {
            if (paraulesDisponibles.length === 0) {
                paraulesDisponibles = [...BANC_DE_PARAULES];
                shuffleArray(paraulesDisponibles);
            }

            paraulaActual = paraulesDisponibles.pop();
            paraulaDisplay.textContent = paraulaActual.paraula;

            feedbackContainer.classList.add('hidden');
            nextBtn.classList.add('hidden');

            agudaBtn.disabled = false;
            planaBtn.disabled = false;
            esdrúixolaBtn.disabled = false;
        }

        // Comprovar resposta
        function comprovarResposta(respostaUsuari) {
            agudaBtn.disabled = true;
            planaBtn.disabled = true;
            esdrúixolaBtn.disabled = true;

            const esCorrecte = (respostaUsuari === paraulaActual.tipus);

            let posicioSilaba = "";
            if (paraulaActual.tipus === 'aguda') {
                posicioSilaba = "l'última";
            } else if (paraulaActual.tipus === 'plana') {
                posicioSilaba = "la penúltima";
            } else {
                posicioSilaba = "l'antepenúltima";
            }

            feedbackContainer.classList.remove('hidden');

            if (esCorrecte) {
                feedbackResultat.textContent = "Correcte!";
                feedbackContainer.classList.remove('bg-red-100', 'text-red-800');
                feedbackContainer.classList.add('bg-green-100', 'text-green-800');
                feedbackExplicacio.textContent =
                    `Molt bé! "${paraulaActual.paraula}" és ${paraulaActual.tipus}. ` +
                    `La síl·laba tònica és "${paraulaActual.tonica}" (${posicioSilaba}).`;
            } else {
                feedbackResultat.textContent = "Incorrecte!";
                feedbackContainer.classList.remove('bg-green-100', 'text-green-800');
                feedbackContainer.classList.add('bg-red-100', 'text-red-800');
                feedbackExplicacio.textContent =
                    `La resposta correcta és ${paraulaActual.tipus}. A "${paraulaActual.paraula}", ` +
                    `la síl·laba tònica és "${paraulaActual.tonica}" (${posicioSilaba}).`;
            }

            nextBtn.classList.remove('hidden');
        }

        // Esdeveniments
        document.addEventListener('DOMContentLoaded', () => {
            agudaBtn.addEventListener('click', () => comprovarResposta('aguda'));
            planaBtn.addEventListener('click', () => comprovarResposta('plana'));
            esdrúixolaBtn.addEventListener('click', () => comprovarResposta('esdrúixola'));
            nextBtn.addEventListener('click', mostrarNovaParaula);

            // Inici
            mostrarNovaParaula();
        });
    </script>
</body>
</html>
